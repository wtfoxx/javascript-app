let pokemonRepository=function(){let e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=1118";function n(t){"object"==typeof t&&"name"in t&&"detailsUrl"in t?(e.push(t),console.log(t.name+" was added to the Pok√©dex successfully!")):console.log("Entry was not valid, please try again.")}function o(e){i(e).then(function(){!function(e){let t=$(".modal-title"),n=$(".modal-body");t.empty(),n.empty();let o=$("<h5>"+e.name[0].toUpperCase()+e.name.substring(1)+"</h5>"),i=$("<img src="+e.imageUrl+">"),a=$("<p><b>Height: </b>"+e.height+"</p>"),s=$("<p><b>Weight: </b>"+e.weight+"</p>"),l=$("<p><b>Types: </b>"+e.types.join(", ")+"</p>");t.append(o),n.append(i),n.append(a),n.append(s),n.append(l)}(e)})}function i(e){let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.types=[];for(let n=0;n<t.types.length;n++){let o=t.types[n].type.name;e.types.push(o[0].toUpperCase()+o.substring(1))}}).catch(function(e){console.error(e)})}return $(document).ready(function(){$("#pokemon-search").on("keyup",function(){let e=$(this).val().toLowerCase();$(".search-button").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(e)>-1)})})}),{getAll:function(){return e},add:n,addListItem:function(e){let t=document.querySelector(".list-group"),n=document.createElement("button"),a=document.createElement("div");n.classList.add("pokemon-list-item","search-button"),n.setAttribute("data-toggle","modal"),n.setAttribute("data-target","#pokemonModal"),n.innerText=e.name[0].toUpperCase()+e.name.substring(1),t.appendChild(n),n.appendChild(a),i(e).then(function(){if(null!=e.imageUrl){let t=document.createElement("img");t.src=e.imageUrl,t.classList.add("pokemon-image"),n.appendChild(t)}else console.log("pokemon image not found")}),n.addEventListener("click",function(){o(e)})},showDetails:o,loadList:function(){return fetch(t).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){n({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:i}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});